2Ô∏è‚É£ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å –Ω–∞—á–∞–ª–∞:
–í–∞—à –∫–æ–¥: ~90% ‚úÖ (–ø–æ—á—Ç–∏ –Ω–µ —Ç—Ä–æ–≥–∞–ª–∏!)

–ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏/–∏—Å–ø—Ä–∞–≤–∏–ª–∏:

‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Keycloak (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –Ω–µ –∫–æ–¥)
‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
‚úÖ PowerShell —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
–ì–õ–ê–í–ù–û–ï: –í–∞—à –∫–æ–¥ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –º–µ–Ω—è–ª—Å—è! –ü—Ä–æ—Å—Ç–æ –≤—Å—ë —Ç–µ–ø–µ—Ä—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ


3Ô∏è‚É£ –ó–∞ —á–∞—Å –¥–æ –∑–∞—â–∏—Ç—ã:
¬†
powershell
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker (15 –º–∏–Ω)
docker-compose up -d postgres kafka zookeeper keycloak

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Keycloak —á–µ—Ä–µ–∑ UI (10 –º–∏–Ω)
# realm, client, users, roles

# 3. –û–±–Ω–æ–≤–∏—Ç—å client secret –≤ —Å–∫—Ä–∏–ø—Ç–µ (2 –º–∏–Ω)

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (5 –º–∏–Ω)
mvn spring-boot:run

# 5. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (5 –º–∏–Ω)
.\test-keycloak-tokens-fixed.ps1
.\test-api-endpoints-fixed.ps1

# 6. –û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–∞ –¥–ª—è –¥–µ–º–æ (5 –º–∏–Ω)
# Swagger, Keycloak UI, VS Code, –¥–∏–∞–≥—Ä–∞–º–º—ã
```

---

## 4Ô∏è‚É£ –í–æ –≤—Ä–µ–º—è –∑–∞—â–∏—Ç—ã (20 –º–∏–Ω—É—Ç):

**–ü–æ–∫–∞–∑–∞—Ç—å:**
1. ‚úÖ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (docker-compose ps)
2. ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –¥–∏–∞–≥—Ä–∞–º–º—É
3. ‚úÖ Keycloak (realm, roles, users)
4. ‚úÖ –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API (5 —Ç–µ—Å—Ç–æ–≤ –∑–µ–ª–µ–Ω—ã–µ!)
5. ‚úÖ Swagger UI (–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
6. ‚úÖ –õ–æ–≥–∏ Kafka —Å–æ–±—ã—Ç–∏–π
7. ‚úÖ –ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (psql)
8. ‚úÖ –¢–µ—Å—Ç—ã (mvn test - 11 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏)

**–†–∞—Å—Å–∫–∞–∑–∞—Ç—å:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, Kafka, Keycloak)
- Security (JWT, role-based access)
- Event-driven (Kafka events)
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (unit + integration + Kafka)

---

## üìä –ü–õ–ê–ù –ù–ê –°–ï–ì–û–î–ù–Ø/–ó–ê–í–¢–†–ê:

### ‚úÖ –°–µ–≥–æ–¥–Ω—è –≤–µ—á–µ—Ä–æ–º (~2 —á–∞—Å–∞):
1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã** (30 –º–∏–Ω)
2. **–°–æ–∑–¥–∞—Ç—å README.md** (30 –º–∏–Ω)
3. **–°–æ–∑–¥–∞—Ç—å 4 –¥–∏–∞–≥—Ä–∞–º–º—ã** (1 —á–∞—Å)

### ‚úÖ –ó–∞–≤—Ç—Ä–∞ –∑–∞ —á–∞—Å –¥–æ –∑–∞—â–∏—Ç—ã:
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å—ë (30 –º–∏–Ω)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Keycloak (10 –º–∏–Ω)
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (10 –º–∏–Ω)
4. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–∫–Ω–∞ (10 –º–∏–Ω)

### ‚úÖ –ù–∞ –∑–∞—â–∏—Ç–µ (20 –º–∏–Ω):
- –°–ª–µ–¥–æ–≤–∞—Ç—å **DEFENSE_PREPARATION.md**
- –ü–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
- –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã

---

# üéØ –°–ï–ô–ß–ê–° –î–ï–ô–°–¢–í–£–ô–¢–ï:

## –®–∞–≥ 1: –î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã (30 –º–∏–Ω—É—Ç)

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ 3 —Ñ–∞–π–ª–∞ —Ç–µ—Å—Ç–∞ –≤ –ø—Ä–æ–µ–∫—Ç:
```
src/test/java/com/university/courseregistration/
‚îú‚îÄ‚îÄ service/StudentServiceTest.java
‚îú‚îÄ‚îÄ controller/StudentControllerIntegrationTest.java
‚îî‚îÄ‚îÄ kafka/KafkaIntegrationTest.java
–ó–∞–ø—É—Å—Ç–∏—Ç–µ:

¬†
powershell
mvn test







–û—Ç–ª–∏—á–Ω–æ! üéâ 12 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏! –°–µ–π—á–∞—Å –æ–±—ä—è—Å–Ω—é —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç –∫–∞–∂–¥—ã–π —Ç–µ—Å—Ç:


üß™ –û–ë–™–Ø–°–ù–ï–ù–ò–ï –í–°–ï–• –¢–ï–°–¢–û–í
üì¶ UNIT –¢–ï–°–¢–´ (StudentServiceTest.java) - 6 —Ç–µ—Å—Ç–æ–≤
–¢–µ—Å—Ç–∏—Ä—É—é—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ –∏–∑–æ–ª—è—Ü–∏–∏ (—Å –º–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ–º –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö).


1. createStudent_Success() ‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –∫–æ–≥–¥–∞ –≤—Å—ë –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: –ù–æ–≤—ã–π —Å—Ç—É–¥–µ–Ω—Ç (John Doe, john@university.com, STU001)
–ö–æ–≥–¥–∞: –í—ã–∑—ã–≤–∞–µ–º studentService.createStudent(studentDTO)
–¢–æ–≥–¥–∞: –°—Ç—É–¥–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è StudentDTO
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ –ú–µ—Ç–æ–¥ save() —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π StudentDTO
‚úÖ –î–∞–Ω–Ω—ã–µ –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω—ã (name, email —Å–æ–≤–ø–∞–¥–∞—é—Ç)
–ó–∞—á–µ–º: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –±–∞–∑–æ–≤—ã–π happy path —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å—Ç—É–¥–µ–Ω—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.


2. createStudent_DuplicateEmail_ThrowsException() ‚ùå‚Üí‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –ù–µ–ª—å–∑—è —Å–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º email.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: Email john@university.com —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ
–ö–æ–≥–¥–∞: –ü—ã—Ç–∞–µ–º—Å—è —Å–æ–∑–¥–∞—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞ —Å —ç—Ç–∏–º email
–¢–æ–≥–¥–∞: –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è DuplicateResourceException
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ existsByEmail() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
‚úÖ –ï—Å–ª–∏ email –∑–∞–Ω—è—Ç ‚Üí –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚úÖ save() –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è (—Å—Ç—É–¥–µ–Ω—Ç –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è)
–ó–∞—á–µ–º: –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ - –≤ —Å–∏—Å—Ç–µ–º–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º email.


3. getStudentById_Success() ‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—É–¥–µ–Ω—Ç–∞ –ø–æ ID –∫–æ–≥–¥–∞ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç —Å ID=1 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –±–∞–∑–µ
–ö–æ–≥–¥–∞: –í—ã–∑—ã–≤–∞–µ–º studentService.getStudentById(1L)
–¢–æ–≥–¥–∞: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π StudentDTO
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ findById() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID
‚úÖ –î–∞–Ω–Ω—ã–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ DTO
‚úÖ –í—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã (id, name —Å–æ–≤–ø–∞–¥–∞—é—Ç)
–ó–∞—á–µ–º: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –º–æ–∂–µ–º –ø–æ–ª—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.


4. getStudentById_NotFound_ThrowsException() ‚ùå‚Üí‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç–∞ —Å ID=999 –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
–ö–æ–≥–¥–∞: –í—ã–∑—ã–≤–∞–µ–º studentService.getStudentById(999L)
–¢–æ–≥–¥–∞: –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è ResourceNotFoundException
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ –ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ó–∞—á–µ–º: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ–æ–±—â–∞—Ç—å –∫–æ–≥–¥–∞ —Ä–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω (–≤–∞–∂–Ω–æ –¥–ª—è REST API - –≤–µ—Ä–Ω–µ—Ç 404).


5. deleteStudent_Success() ‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –£–¥–∞–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç —Å ID=1 —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
–ö–æ–≥–¥–∞: –í—ã–∑—ã–≤–∞–µ–º studentService.deleteStudent(1L)
–¢–æ–≥–¥–∞: –°—Ç—É–¥–µ–Ω—Ç —É–¥–∞–ª—è–µ—Ç—Å—è
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ existsById() –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
‚úÖ deleteById() –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º ID
‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
–ó–∞—á–µ–º: –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –º–æ–∂–µ–º —É–¥–∞–ª–∏—Ç—å —Å—Ç—É–¥–µ–Ω—Ç–∞.


6. deleteStudent_NotFound_ThrowsException() ‚ùå‚Üí‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç–∞.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
–î–∞–Ω–æ: –°—Ç—É–¥–µ–Ω—Ç–∞ —Å ID=999 –ù–ï —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
–ö–æ–≥–¥–∞: –ü—ã—Ç–∞–µ–º—Å—è —É–¥–∞–ª–∏—Ç—å studentService.deleteStudent(999L)
–¢–æ–≥–¥–∞: –í—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è ResourceNotFoundException
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç:

‚úÖ –ï—Å–ª–∏ —Å—Ç—É–¥–µ–Ω—Ç –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Üí –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
‚úÖ deleteById() –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è
‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–ó–∞—á–µ–º: –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Ç–æ —á–µ–≥–æ –Ω–µ—Ç - —Å–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —ç—Ç–æ –æ—Ç–ª–æ–≤–∏—Ç—å.


üåê INTEGRATION –¢–ï–°–¢–´ (StudentControllerIntegrationTest.java) - 4 —Ç–µ—Å—Ç–∞
–¢–µ—Å—Ç–∏—Ä—É—é—Ç REST API —Å —Ä–µ–∞–ª—å–Ω—ã–º Spring –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º (–Ω–æ –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ Keycloak).


7. getAllCourses_NoAuth_Success() ‚úÖ
–ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç: –ü—É–±–ª–∏—á–Ω—ã–π endpoint –¥–æ—Å—Ç—É–ø–µ–Ω –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

–°—Ü–µ–Ω–∞—Ä–∏–π:

¬†
